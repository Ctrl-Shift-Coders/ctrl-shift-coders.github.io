<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">

    <title>Ctrl+Shift+Code | Alice 3 Animation & Programming Team</title>
    <meta name="description" content="Meet Ctrl+Shift+Code: Award-winning Grade 10 students specializing in Alice 3 programming, 3D animation, and interactive storytelling for CMU-Q competitions.">
    <meta name="keywords" content="Ctrl+Shift+Code, Alice 3, 3D Animation, Programming, CMU-Q Competition, Student Team, Interactive Storytelling, 3D Coding, Java, Educational Simulation, Doha, Qatar, Alice 3 Helper, Chatbot">
    <meta name="author" content="Ctrl+Shift+Code Team (Jonathan Oommen Easow, Nishad Koshti, Avrin Sidney)">
    <meta name="robots" content="index, follow"> <meta property="og:title" content="Ctrl+Shift+Code - Alice 3 Animation & Programming Team">
    <meta property="og:description" content="Explore award-winning Alice 3 projects, 3D animations, and interactive stories by Ctrl+Shift+Code, Grade 10 students competing at CMU-Q.">
    <meta property="og:image" content="favicon.png"> <meta property="og:url" content="https://ctrlshiftcode.is-cool.dev/"> <meta property="og:type" content="website">
    <meta property="og:site_name" content="Ctrl+Shift+Code">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ctrl+Shift+Code - Alice 3 Animation & Programming Team">
    <meta name="twitter:description" content="Explore award-winning Alice 3 projects by Ctrl+Shift+Code, Grade 10 students competing at CMU-Q.">
    <meta name="twitter:image" content="favicon.png"> <link rel="canonical" href="https://ctrlshiftcode.is-cool.dev/" /> <link rel="icon" type="image/png" href="favicon.png"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/x-icon" href="favicon.png">
    <!-- These script tags appear to be placeholders or local copies,
         the CDN versions below are generally preferred and are also included.
         Keeping them as per instruction "keep all imports js same". -->
    <script src="Ctrl+Shift+Code_files/3.4.16"></script> <script src="Ctrl+Shift+Code_files/three.min.js"></script>
    <script src="Ctrl+Shift+Code_files/gsap.min.js"></script>
    <script src="Ctrl+Shift+Code_files/ScrollTrigger.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" xintegrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/LfZomQERcu8Dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js" xintegrity="sha512-H6cPm97FAsgIKmlBA4s774vqoN24V5gSQL4yBTDOY2su2DeXZVhQPxFK4P6GPdnZqM9fg1G3cMv5wD7e6cFLZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js" xintegrity="sha512-5efMzcNzk6TWYKMJ99VLXKdcMscM6+kRy5GVkoMBM10zQ06bk67EgfR9DC6aGHitDaxFBzAADctJsf2f8yNqgw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>


    <style>
        /* Import Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700&display=swap');

        /* Base Styles */
        html {
            scroll-behavior: smooth;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Space Grotesk', sans-serif;
        }

        body {
            background-color: #0a0a0a;
            color: #f0f0f0;
            overflow-x: hidden;
            scrollbar-width: none; /* Firefox */
            cursor: none;
            transition: filter 0.3s ease-in-out; /* Transition for blur effect */
        }

        body::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        /* Blur effect for body when popup is active */
        body.popup-active > *:not(#link-popup):not(#custom-cursor):not(#custom-cursor-follower):not(#project-details-modal):not(#alice-chat-popup) { /* Exclude modals */
             filter: blur(10px);
             pointer-events: none;
             user-select: none;
        }
        /* Ensure cursor is not blurred */
         body.popup-active #custom-cursor,
         body.popup-active #custom-cursor-follower {
             filter: none !important;
             pointer-events: none !important;
         }


        /* Utility Classes */
        .code-font {
            font-family: 'JetBrains Mono', monospace;
        }

        .section {
            min-height: 100vh;
            width: 100%;
            padding: 6rem 2rem 3rem 2rem; /* Increased top padding for sections */
            position: relative;
            overflow: hidden;
        }
        #home.section {
             padding-top: 2rem;
        }

        .gradient-text {
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Card Styles */
        .card {
            background: rgba(20, 20, 20, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease, border-color 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px) scale(1.02); /* Added subtle scale */
            box-shadow: 0 10px 30px rgba(0, 198, 255, 0.2);
            border-color: rgba(0, 198, 255, 0.3);
        }

        .achievement.smart-city-achievement.card:hover {
            border-color: rgba(16, 185, 129, 0.4); /* Emerald border */
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.25); /* Emerald shadow */
        }


        /* Navigation Link Styles */
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }
        .nav-link:hover {
            color: #00c6ff; /* Brighter hover for nav links */
        }


        /* Custom Cursor Styles */
        .cursor {
            width: 20px;
            height: 20px;
            border: 2px solid #00c6ff;
            border-radius: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 999999; /* Ensured highest z-index */
            mix-blend-mode: difference;
            transition: width 0.2s ease, height 0.2s ease, background-color 0.2s ease, transform 0.2s ease-out;
        }

        .cursor-follower {
            width: 8px;
            height: 8px;
            background-color: #0072ff;
            border-radius: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 999999; /* Ensured highest z-index */
            transition: transform 0.1s ease-out;
        }

        .cursor.expand {
             width: 40px;
             height: 40px;
             background-color: rgba(0, 198, 255, 0.2);
             border: 1px solid rgba(0, 198, 255, 0.5);
        }

        /* Code Block Styles */
        .code-block {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            transition: box-shadow 0.3s ease;
        }
        .code-block:hover {
            box-shadow: 0 0 20px rgba(0, 198, 255, 0.2);
        }

        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(0, 198, 255, 0.1), transparent);
            pointer-events: none;
        }

        /* Floating Animation */
        .floating {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        /* Button Styles */
        .btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: none;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }
        .btn:hover {
            transform: scale(1.03); /* Subtle scale on hover for all buttons */
        }


        /* Project video button hover effect */
        .btn.project-video-btn:hover {
            animation: pulse-glow 1.5s infinite alternate;
        }

        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 5px rgba(0, 198, 255, 0.2), 0 0 10px rgba(0, 198, 255, 0.1);
            }
            100% {
                box-shadow: 0 0 10px rgba(0, 198, 255, 0.4), 0 0 20px rgba(0, 198, 255, 0.2);
            }
        }

        .achievement.smart-city-achievement .btn.project-video-btn:hover {
            animation: pulse-glow-emerald 1.5s infinite alternate;
        }
        .achievement.project-2025-card .btn.project-video-btn:hover { /* For the new 2025 project card */
             animation: pulse-glow-purple 1.5s infinite alternate;
        }


        @keyframes pulse-glow-emerald {
            0% {
                box-shadow: 0 0 5px rgba(16, 185, 129, 0.2), 0 0 10px rgba(16, 185, 129, 0.1);
            }
            100% {
                box-shadow: 0 0 10px rgba(16, 185, 129, 0.4), 0 0 20px rgba(16, 185, 129, 0.2);
            }
        }
        @keyframes pulse-glow-purple {
            0% { box-shadow: 0 0 5px rgba(168, 85, 247, 0.2), 0 0 10px rgba(168, 85, 247, 0.1); }
            100% { box-shadow: 0 0 10px rgba(168, 85, 247, 0.4), 0 0 20px rgba(168, 85, 247, 0.2); }
        }


        /* Progress Bar Styles */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            z-index: 9998;
            width: 0;
        }

        /* Custom Context Menu Styles */
        #custom-context-menu {
            display: none;
            position: fixed;
            background-color: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(14px);
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            padding: 8px 0;
            margin: 0;
            width: 230px;
            z-index: 10000;
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.12);
            font-family: 'Space Grotesk', sans-serif;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        #custom-context-menu .menu-item {
            padding: 10px 20px;
            cursor: none;
            transition: background-color 0.2s ease, color 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95em;
            white-space: nowrap;
        }

        #custom-context-menu .menu-item:hover {
            background-color: rgba(0, 198, 255, 0.2);
            color: #ffffff;
        }

        #custom-context-menu .menu-item i {
             width: 16px;
             text-align: center;
             color: #00c6ff;
             flex-shrink: 0;
        }
        #custom-context-menu .menu-item .item-text {
            flex-grow: 1;
        }

        #custom-context-menu .divider {
            height: 1px;
            background-color: rgba(255, 255, 255, 0.1);
            margin: 8px 15px;
        }

         #custom-context-menu .branding {
             font-size: 0.8em;
             color: #777;
             text-align: center;
             padding: 8px 15px 4px 15px;
             cursor: default;
             pointer-events: none;
         }

        /* Link Confirmation Popup Styles */
        #link-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: rgba(5, 5, 5, 0.75);
            border: 1px solid rgba(0, 198, 255, 0.7);
            color: #e5e5e5;
            padding: 30px 40px;
            border-radius: 16px;
            z-index: 100000;
            text-align: center;
            font-family: 'Space Grotesk', sans-serif;
            backdrop-filter: blur(15px);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            box-shadow: 0 15px 40px rgba(0, 198, 255, 0.25);
            max-width: 90%;
            width: 450px;
        }

        #link-popup p {
            margin-bottom: 25px;
            font-size: 1.15em;
            line-height: 1.6;
        }
         #link-popup p strong {
             color: #00c6ff;
             word-break: break-all;
             display: block;
             margin-top: 8px;
         }

        #link-popup button {
            margin: 5px 10px;
            background: #00c6ff;
            color: #0a0a0a;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1em;
            transition: background-color 0.2s ease, transform 0.1s ease;
            cursor: none;
        }
         #link-popup button:hover {
             background-color: #00a5d9;
             transform: scale(1.05);
         }

        #link-popup button.cancel {
            background: rgba(51, 51, 51, 0.8);
            color: #00c6ff;
            border: 1px solid #555;
        }
        #link-popup button.cancel:hover {
             background-color: #444;
             color: #ffffff;
             border-color: #666;
         }

        /* Three.js Canvas */
        #hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            width: 100%;
            height: 100%;
        }

        /* Orientation Lock Prompt */
        #orientation-prompt {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            color: #fff;
            z-index: 100001;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 1.2em;
            padding: 20px;
        }

        #orientation-prompt svg {
            width: 60px;
            height: 60px;
            margin-bottom: 25px;
            animation: rotate-phone 2.5s ease-in-out infinite;
        }

        @keyframes rotate-phone {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(-90deg); }
        }


        @media screen and (max-width: 767px) and (orientation: portrait) {
            #orientation-prompt {
                display: flex;
            }
        }

        /* SVG Avatar Styles */
        .avatar-svg {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        /* Header scroll effect - REMOVED */
        /*
        header.scrolled {
            background-color: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease, backdrop-filter 0.3s ease, box-shadow 0.3s ease;
        }
        */

        /* Achievement Icon Hover Effects */
        .achievement .icon-container {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .achievement:hover .icon-container {
            transform: scale(1.12) rotate(4deg);
        }
        .achievement.smart-city-achievement:hover .icon-container {
            box-shadow: 0 0 22px rgba(16, 185, 129, 0.55); /* Emerald glow */
        }
        .achievement.project-2025-card:hover .icon-container { /* For the new 2025 project card */
            box-shadow: 0 0 22px rgba(168, 85, 247, 0.45); /* Purple glow */
        }
        .achievement:not(.smart-city-achievement):not(.project-2025-card):hover .icon-container {
            box-shadow: 0 0 22px rgba(0, 198, 255, 0.45); /* Blue glow */
        }


        /* Project Story Modal Styles (formerly Gemini) */
        #project-details-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: rgba(10, 10, 10, 0.9);
            border: 1px solid rgba(0, 198, 255, 0.5);
            color: #e0e0e0;
            padding: 25px 35px;
            border-radius: 16px;
            z-index: 100002;
            font-family: 'Space Grotesk', sans-serif;
            backdrop-filter: blur(12px);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            box-shadow: 0 10px 35px rgba(0, 198, 255, 0.2);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        #project-details-modal-content {
            text-align: left;
            line-height: 1.7;
            font-size: 1.05em;
        }
        #project-details-modal-content h4 {
            font-size: 1.5em;
            font-weight: 600;
            color: #00c6ff;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(0, 198, 255, 0.2);
            padding-bottom: 10px;
        }
        #project-details-modal-content p {
            margin-bottom: 12px;
        }
        #project-details-modal-content strong {
            color: #00e0ff;
        }


        #project-details-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #888;
            font-size: 28px;
            font-weight: bold;
            cursor: none;
            transition: color 0.2s ease, transform 0.2s ease;
        }
        #project-details-modal-close:hover {
            color: #00c6ff;
            transform: scale(1.1);
        }

        /* "Tell Me More" Button */
        .btn-story { /* Renamed from btn-gemini-story */
            background-color: rgba(0, 198, 255, 0.1);
            border: 1px solid rgba(0, 198, 255, 0.3);
            color: #00c6ff;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
        }
        .btn-story:hover {
            background-color: rgba(0, 198, 255, 0.25);
            color: #fff;
            box-shadow: 0 0 15px rgba(0, 198, 255, 0.3);
        }
        .achievement.smart-city-achievement .btn-story {
            background-color: rgba(16, 185, 129, 0.1);
            border-color: rgba(16, 185, 129, 0.3);
            color: #10b981;
        }
         .achievement.smart-city-achievement .btn-story:hover {
            background-color: rgba(16, 185, 129, 0.25);
            color: #fff;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);
        }
        .achievement.project-2025-card .btn-story { /* For the new 2025 project card */
            background-color: rgba(168, 85, 247, 0.1); /* Purple */
            border-color: rgba(168, 85, 247, 0.3);
            color: #a855f7;
        }
        .achievement.project-2025-card .btn-story:hover {
            background-color: rgba(168, 85, 247, 0.25);
            color: #fff;
            box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
        }


        /* Alice 3 Helper Chatbot Styles */
        #chat-toggle-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: #00c6ff;
            color: #0a0a0a;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 198, 255, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9990;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: pulse-chat-btn 2s infinite;
            cursor: grab; /* Indicate draggable */
        }
        #chat-toggle-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 198, 255, 0.5);
            animation-play-state: paused;
        }
        @keyframes pulse-chat-btn {
            0% { transform: scale(1); box-shadow: 0 5px 15px rgba(0, 198, 255, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 8px 25px rgba(0, 198, 255, 0.4); }
            100% { transform: scale(1); box-shadow: 0 5px 15px rgba(0, 198, 255, 0.3); }
        }


        #alice-chat-popup {
            position: fixed;
            bottom: 100px; /* Above toggle button */
            right: 25px;
            width: 90%;
            max-width: 380px;
            height: 70%;
            max-height: 500px;
            background-color: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 198, 255, 0.3);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 9989;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            transition: opacity 0.3s ease, transform 0.3s ease;
            overflow: hidden; /* To contain rounded corners */
        }
        #alice-chat-popup.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .chat-header {
            background-color: rgba(0, 198, 255, 0.15);
            padding: 12px 15px;
            font-weight: bold;
            color: #00c6ff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 198, 255, 0.2);
            cursor: grab; /* Indicate draggable handle */
        }
        #chat-close-btn {
            background: none;
            border: none;
            color: #aaa;
            font-size: 24px;
            cursor: none;
        }
        #chat-close-btn:hover { color: #00c6ff; }

        #chat-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .chat-message {
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 80%;
            line-height: 1.5;
            word-wrap: break-word;
        }
        .chat-message.user {
            background-color: #0072ff;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 2px;
        }
        .chat-message.bot {
            background-color: #2a2a2a;
            color: #e0e0e0;
            align-self: flex-start;
            border-bottom-left-radius: 2px;
        }
        .chat-message.bot strong { color: #00c6ff; }
        .chat-message.bot code {
            background-color: #1a1a1a;
            padding: 0.1em 0.3em;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
        }
        .chat-message.error {
            background-color: #442222;
            color: #ffaaaa;
            align-self: flex-start;
        }
         .chat-message.loading {
            align-self: flex-start;
            color: #888;
            font-style: italic;
        }

        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
            align-self: flex-start;
        }

        .chat-suggestions .suggestion-button {
            background-color: rgba(0, 198, 255, 0.1);
            border: 1px solid rgba(0, 198, 255, 0.3);
            color: #00c6ff;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            cursor: none;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .chat-suggestions .suggestion-button:hover {
            background-color: rgba(0, 198, 255, 0.25);
            color: #fff;
        }


        .chat-input-area {
            display: flex;
            padding: 10px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        #chat-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            background-color: rgba(255,255,255,0.05);
            color: #f0f0f0;
            border-radius: 6px 0 0 6px;
            outline: none;
            font-family: 'JetBrains Mono', monospace;
        }
        #chat-input:focus {
            border-color: #00c6ff;
        }
        #chat-send-btn {
            padding: 10px 15px;
            background-color: #00c6ff;
            color: #0a0a0a;
            border: none;
            border-radius: 0 6px 6px 0;
            font-weight: bold;
        }
        #chat-send-btn:hover { background-color: #00a5d9; }

        /* Scrollbar for chat messages */
        #chat-messages::-webkit-scrollbar { width: 6px; }
        #chat-messages::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius:3px;}
        #chat-messages::-webkit-scrollbar-thumb { background: #0072ff; border-radius:3px; }
        #chat-messages::-webkit-scrollbar-thumb:hover { background: #00c6ff; }

        /* Typing animation cursor for home subtitle */
        .typed-cursor {
            opacity: 1;
            animation: typedjsBlink 0.7s infinite;
            color: #00c6ff; /* Match gradient text color */
        }
        @keyframes typedjsBlink {
            50% { opacity: 0.0; }
        }

    </style>
</head>
<body class="">
    <div id="orientation-prompt">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="none" aria-hidden="true">
          <path d="M16.5 2h-9C6.67 2 6 2.67 6 3.5v17c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5v-17c0-.83-.67-1.5-1.5-1.5zM12 20c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm4-4H8V6h8v10z"/>
        </svg>
        Please rotate your device to landscape mode for the best experience.
    </div>

    <div class="cursor" id="custom-cursor"></div>
    <div class="cursor-follower" id="custom-cursor-follower"></div>

    <div id="custom-context-menu">
        <div class="menu-item" onclick="handleContextMenuClick('nav-home')">
            <i class="fas fa-home"></i><span class="item-text">Home</span>
        </div>
        <div class="menu-item" onclick="handleContextMenuClick('nav-about')">
            <i class="fas fa-info-circle"></i><span class="item-text">About</span>
        </div>
        <div class="menu-item" onclick="handleContextMenuClick('nav-team')">
            <i class="fas fa-users"></i><span class="item-text">Team</span>
        </div>
        <div class="menu-item" onclick="handleContextMenuClick('nav-achievements')">
            <i class="fas fa-trophy"></i><span class="item-text">Achievements</span>
        </div>
        <div class="menu-item" onclick="handleContextMenuClick('nav-project')"> <i class="fas fa-lightbulb"></i><span class="item-text">Project</span>
        </div>
        <div class="divider"></div>
        <div class="menu-item" onclick="handleContextMenuClick('github')">
            <i class="fab fa-github"></i><span class="item-text">Open GitHub</span>
        </div>
        <div class="menu-item" onclick="handleContextMenuClick('email')">
            <i class="fas fa-envelope"></i><span class="item-text">Send Email</span>
        </div>
        <div class="divider"></div>
        <div class="branding">Ctrl+Shift+Code</div>
    </div>

    <div id="link-popup">
        <p id="link-popup-text"></p>
        <div>
             <button onclick="proceedToLink(true)">Yes, Visit Site</button>
             <button class="cancel" onclick="proceedToLink(false)">No, Stay Here</button>
        </div>
    </div>

    <div id="project-details-modal">
        <button id="project-details-modal-close" aria-label="Close story">&times;</button>
        <div id="project-details-modal-content-container">
            <div id="project-details-modal-content">
                </div>
        </div>
    </div>

    <button id="chat-toggle-btn" aria-label="Toggle Alice 3 Helper Chatbot">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
        </svg>
    </button>
    <div id="alice-chat-popup" class="hidden" role="dialog" aria-modal="true" aria-labelledby="chat-header-title">
        <div class="chat-header">
            <span id="chat-header-title" class="code-font">Alice 3 <span class="gradient-text">Helper</span></span>
            <button id="chat-close-btn" aria-label="Close chat">&times;</button>
        </div>
        <div id="chat-messages">
            </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="Ask about Alice 3 or try /csc_info" aria-label="Chat input">
            <button id="chat-send-btn" aria-label="Send message">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 16.571V11.5a1 1 0 011-1h2a1 1 0 011 1v5.071a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                </svg>
            </button>
        </div>
    </div>


    <div class="progress-bar"></div>

    <canvas id="hero-canvas" aria-hidden="true"></canvas>

    <header class="fixed top-0 left-0 w-full z-50 px-6 py-4"> <nav class="max-w-7xl mx-auto flex justify-between items-center" aria-label="Main Navigation">
            <div class="flex items-center">
                <a href="#home" class="code-font text-2xl font-bold cursor-none" aria-label="Ctrl+Shift+Code Home">
                    <span class="text-blue-400" aria-hidden="true">&lt;</span>
                    <span class="gradient-text">CTRL+SHIFT+CODE</span>
                    <span class="text-blue-400" aria-hidden="true">/&gt;</span>
                </a>
            </div>
            <ul class="hidden md:flex space-x-8">
                <li><a href="#home" class="nav-link text-gray-300 hover:text-white cursor-none">Home</a></li>
                <li><a href="#about" class="nav-link text-gray-300 hover:text-white cursor-none">About</a></li>
                <li><a href="#team" class="nav-link text-gray-300 hover:text-white cursor-none">Team</a></li>
                <li><a href="#achievements" class="nav-link text-gray-300 hover:text-white cursor-none">Achievements</a></li>
                <li><a href="#project" class="nav-link text-gray-300 hover:text-white cursor-none">Project</a></li> </ul>
            <div class="md:hidden">
                <button id="menu-toggle" class="text-white cursor-none p-2 rounded hover:bg-white/10 transition-colors" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-black bg-opacity-95 backdrop-blur-md py-4 px-6 mt-px shadow-lg">
            <ul class="space-y-4">
                <li><a href="#home" class="block text-gray-300 hover:text-white cursor-none">Home</a></li>
                <li><a href="#about" class="block text-gray-300 hover:text-white cursor-none">About</a></li>
                <li><a href="#team" class="block text-gray-300 hover:text-white cursor-none">Team</a></li>
                <li><a href="#achievements" class="block text-gray-300 hover:text-white cursor-none">Achievements</a></li>
                <li><a href="#project" class="block text-gray-300 hover:text-white cursor-none">Project</a></li> </ul>
        </div>
    </header>

    <main id="main-content"> <section id="home" class="section flex items-center justify-center text-center pt-16 md:pt-20">
            <div class="max-w-7xl mx-auto">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 opacity-0" id="main-title">
                    <span class="gradient-text">CTRL+SHIFT+CODE</span>
                </h1>
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 opacity-0" id="main-buttons">
                    <a href="#about" class="btn bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-full font-medium">Discover Our Work</a>
                    <a href="#team" class="btn bg-transparent border border-blue-600 text-blue-400 hover:text-white hover:bg-blue-600/20 px-8 py-3 rounded-full font-medium">Meet The Team</a>
                </div>

                <div class="mt-20 opacity-0" id="code-snippet">
                    <div class="code-block bg-gray-900 p-4 rounded-lg text-left inline-block max-w-full overflow-x-auto">
                        <pre class="code-font text-sm md:text-base" aria-label="Example code snippet"><code class="language-javascript"><span class="text-pink-500">function</span> <span class="text-blue-400">createAwesome</span>() {
    <span class="text-green-400">// CTRL+SHIFT+CODE signature style</span>
    <span class="text-pink-500">const</span> team = [<span class="text-yellow-300">'Jonathan'</span>, <span class="text-yellow-300">'Nishad'</span>, <span class="text-yellow-300">'Avrin'</span>];
    <span class="text-pink-500">const</span> skills = [<span class="text-yellow-300">'Alice 3'</span>, <span class="text-yellow-300">'3D Modeling'</span>, <span class="text-yellow-300">'Animation'</span>];
    <span class="text-pink-500">return</span> <span class="text-blue-400">buildAmazingProject</span>(team, skills);
}</code></pre>
                    </div>
                </div>
            </div>

            <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2">
                <a href="#about" aria-label="Scroll down to About section" class="cursor-none">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" style="animation-duration: 2s;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                    </svg>
                </a>
            </div>
        </section>

        <section id="about" class="section flex items-center">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 opacity-0 text-center md:text-left" id="about-title">
                    <span class="gradient-text">About Us</span>
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="opacity-0" id="about-text">
                        <p class="text-lg text-gray-300 mb-6">
                            We are <strong class="gradient-text font-semibold">CTRL+SHIFT+CODE</strong>, a dynamic team of Grade 10 students from Doha, Qatar. We specialize in Java-based Alice 3 programming and are passionate about creating captivating 3D animations and interactive experiences.
                        </p>
                        <p class="text-lg text-gray-300 mb-6">
                            Our journey began with a shared enthusiasm for coding and visual storytelling. This led us to master Alice 3, consistently pushing its boundaries to craft unique projects for the prestigious CMU-Q Alice Programming Competition.
                        </p>
                        <p class="text-lg text-gray-300">
                            With multiple awards under our belt, we blend technical programming skills with creative vision to develop innovative educational simulations and engaging interactive narratives.
                        </p>
                    </div>
                    <div class="opacity-0" id="about-image">
                        <div class="card p-6 h-full">
                            <div class="relative h-64 w-full mb-6 overflow-hidden rounded-lg" aria-label="Abstract representation of Alice 3 Development">
                                <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
                                    <defs>
                                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#00c6ff;stop-opacity:1"></stop>
                                            <stop offset="100%" style="stop-color:#0072ff;stop-opacity:1"></stop>
                                        </linearGradient>
                                    </defs>
                                    <rect width="400" height="300" fill="#1a1a1a" rx="10" ry="10"></rect>
                                    <circle cx="200" cy="150" r="80" fill="none" stroke="url(#grad1)" stroke-width="2"></circle>
                                    <circle cx="200" cy="150" r="60" fill="none" stroke="url(#grad1)" stroke-width="2" stroke-dasharray="5,5"></circle>
                                    <path d="M160,150 L240,150 M200,110 L200,190" stroke="url(#grad1)" stroke-width="4"></path>
                                    <g transform="translate(150, 100)">
                                        <rect width="100" height="60" fill="none" stroke="#4a5568" stroke-width="2" rx="5" ry="5"></rect>
                                        <line x1="10" y1="15" x2="90" y2="15" stroke="#4a5568" stroke-width="2"></line>
                                        <line x1="10" y1="30" x2="70" y2="30" stroke="#4a5568" stroke-width="2"></line>
                                        <line x1="10" y1="45" x2="50" y2="45" stroke="#4a5568" stroke-width="2"></line>
                                    </g>
                                    <text x="200" y="220" text-anchor="middle" fill="#f0f0f0" font-family="monospace" font-size="12">Alice 3 Development</text>
                                </svg>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="text-xl font-semibold">Our Expertise</h3>
                                    <p class="text-gray-400">Alice 3 Programming & Storytelling</p>
                                </div>
                                <div class="bg-blue-600/20 p-2 rounded-full" aria-hidden="true">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="team" class="section">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 opacity-0 text-center" id="team-title">
                    <span class="gradient-text">Meet The Team</span>
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <article class="card p-6 team-member text-center">
                        <header>
                            <div class="relative h-40 w-40 mx-auto mb-6 overflow-hidden rounded-full bg-gray-800 flex items-center justify-center border-2 border-blue-500/50">
                                <svg class="avatar-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-label="Jonathan Oommen Easow, Team Lead">
                                    <defs>
                                        <linearGradient id="gradJOE" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#00aaff; stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#0077cc; stop-opacity:1" />
                                        </linearGradient>
                                    </defs>
                                    <circle cx="50" cy="50" r="48" fill="url(#gradJOE)" />
                                    <path d="M 30 70 Q 50 85, 70 70" stroke="#FFFFFF" stroke-width="4" fill="none" /> {/* Smile */}
                                    <circle cx="38" cy="45" r="6" fill="#FFFFFF" /> {/* Left Eye */}
                                    <circle cx="62" cy="45" r="6" fill="#FFFFFF" /> {/* Right Eye */}
                                    {/* Simple representation of glasses */}
                                    <line x1="25" y1="45" x2="75" y2="45" stroke="#FFFFFF" stroke-width="2" />
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold mb-2">Jonathan Oommen Easow</h3>
                            <p class="text-gray-400 mb-4">Team Lead &amp; 3D Designer/Coder</p>
                        </header>
                        <p class="text-gray-300 mb-4 text-sm">Specializes in creating immersive 3D environments and character animations in Alice 3.</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4" aria-label="Skills">
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Alice 3</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Programming</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Leadership</span>
                        </div>
                        <a href="mailto:jthweb@duck.com" class="text-blue-400 hover:text-blue-300 flex items-center justify-center text-sm cursor-none" aria-label="Email Jonathan">
                            <i class="fas fa-envelope mr-2" aria-hidden="true"></i>
                            jthweb@duck.com
                        </a>
                    </article>

                    <article class="card p-6 team-member text-center">
                        <header>
                            <div class="relative h-40 w-40 mx-auto mb-6 overflow-hidden rounded-full bg-gray-800 flex items-center justify-center border-2 border-green-500/50">
                                <svg class="avatar-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-label="Nishad Koshti, Technical Developer">
                                     <defs>
                                        <linearGradient id="gradNK" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#22c55e; stop-opacity:1" /> {/* Green */}
                                            <stop offset="100%" style="stop-color:#15803d; stop-opacity:1" />
                                        </linearGradient>
                                    </defs>
                                    <circle cx="50" cy="50" r="48" fill="url(#gradNK)" />
                                    <path d="M 35 70 L 65 70" stroke="#FFFFFF" stroke-width="4" fill="none" /> {/* Neutral Mouth */}
                                    <rect x="35" y="42" width="10" height="6" fill="#FFFFFF" rx="2"/> {/* Left Eye */}
                                    <rect x="55" y="42" width="10" height="6" fill="#FFFFFF" rx="2"/> {/* Right Eye */}
                                    {/* Code/Binary representation */}
                                    <text x="50" y="60" font-family="monospace" font-size="10" fill="#FFFFFF" text-anchor="middle">01</text>
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold mb-2">Nishad Koshti</h3>
                            <p class="text-gray-400 mb-4">Technical Developer</p>
                        </header>
                        <p class="text-gray-300 mb-4 text-sm">Expert in Alice 3 programming logic and implementing interactive storytelling techniques.</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4" aria-label="Skills">
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Alice 3</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Technical</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Logic Design</span>
                        </div>
                        <a href="mailto:10394@bpsdoha.edu.qa" class="text-blue-400 hover:text-blue-300 flex items-center justify-center text-sm cursor-none" aria-label="Email Nishad">
                             <i class="fas fa-envelope mr-2" aria-hidden="true"></i>
                            10394@bpsdoha.edu.qa
                        </a>
                    </article>

                    <article class="card p-6 team-member text-center">
                        <header>
                            <div class="relative h-40 w-40 mx-auto mb-6 overflow-hidden rounded-full bg-gray-800 flex items-center justify-center border-2 border-pink-500/50">
                                <svg class="avatar-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-label="Avrin Sidney, Creative Director">
                                     <defs>
                                        <linearGradient id="gradAS" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#ec4899; stop-opacity:1" /> {/* Pink */}
                                            <stop offset="100%" style="stop-color:#be185d; stop-opacity:1" />
                                        </linearGradient>
                                    </defs>
                                    <circle cx="50" cy="50" r="48" fill="url(#gradAS)" />
                                    <path d="M 30 65 C 40 75, 60 75, 70 65" stroke="#FFFFFF" stroke-width="4" fill="none" /> {/* Smile */}
                                    {/* Star Eyes */}
                                    <path d="M 38 40 L 42 50 L 32 45 L 44 45 L 38 40 Z" fill="#FFFFFF"/>
                                    <path d="M 62 40 L 66 50 L 56 45 L 68 45 L 62 40 Z" fill="#FFFFFF"/>
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold mb-2">Avrin Sidney</h3>
                            <p class="text-gray-400 mb-4">Creative Director</p>
                        </header>
                        <p class="text-gray-300 mb-4 text-sm">Focuses on compelling storytelling, intuitive user experience, and visual aesthetics in all projects.</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4" aria-label="Skills">
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Alice 3</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">UX Design</span>
                            <span class="bg-blue-600/20 text-blue-400 text-xs px-3 py-1 rounded-full">Storytelling</span>
                        </div>
                        <a href="mailto:10347@bpsdoha.edu.qa" class="text-blue-400 hover:text-blue-300 flex items-center justify-center text-sm cursor-none" aria-label="Email Avrin">
                             <i class="fas fa-envelope mr-2" aria-hidden="true"></i>
                            10347@bpsdoha.edu.qa
                        </a>
                    </article>
                </div>
            </div>
        </section>

        <section id="achievements" class="section">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 opacity-0 text-center" id="achievements-title">
                    <span class="gradient-text">Our Achievements</span>
                </h2>
                <div class="space-y-8">
                    <article class="card p-6 achievement group">
                        <div class="flex flex-col md:flex-row items-start md:items-center">
                            <div class="icon-container bg-blue-600/20 p-4 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0" aria-hidden="true">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 group-hover:text-blue-300 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
                                </svg>
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-2xl font-bold mb-2 achievement-title">2nd Place - Advanced Level (2023)</h3>
                                <p class="text-gray-400 mb-2 achievement-project">Project: <strong>Tomorrow's Too Late</strong> (CMU-Q Alice Competition)</p>
                                <p class="text-gray-300 mb-4 achievement-desc">Developed an immersive climate change simulation demonstrating advanced Alice 3 techniques and interactive storytelling to highlight urgent environmental issues.</p>
                                <div class="mt-3 flex flex-wrap items-center gap-3">
                                    <a href="https://drive.google.com/file/d/1_placeholder_link_2023/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block cursor-none" aria-label="Watch video for Tomorrow's Too Late project">
                                        <button class="btn project-video-btn bg-transparent border border-blue-600 text-blue-400 hover:text-white hover:bg-blue-600/20 px-6 py-2 rounded-full font-medium text-sm"> Watch Project Video <i class="fas fa-external-link-alt ml-1 text-xs" aria-hidden="true"></i>
                                        </button>
                                    </a>
                                    <button class="btn btn-story" data-custom-story-id="tomorrows-too-late-story">✨ Tell Me More</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="card p-6 achievement group">
                        <div class="flex flex-col md:flex-row items-start md:items-center">
                             <div class="icon-container bg-blue-600/20 p-4 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0" aria-hidden="true">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 group-hover:text-blue-300 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                                </svg>
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-2xl font-bold mb-2 achievement-title">3rd Place - Advanced Level (2024)</h3>
                                <p class="text-gray-400 mb-2 achievement-project">Project: <strong>Better Late Than Never</strong> (CMU-Q Alice Competition)</p>
                                <p class="text-gray-300 mb-4 achievement-desc">Crafted an innovative interactive climate change narrative emphasizing player choice and consequence, utilizing complex logic to simulate saving a village's future.</p>
                                <div class="mt-3 flex flex-wrap items-center gap-3">
                                    <a href="https://drive.google.com/file/d/1_placeholder_link_2024/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block cursor-none" aria-label="Watch video for Better Late Than Never project">
                                        <button class="btn project-video-btn bg-transparent border border-blue-600 text-blue-400 hover:text-white hover:bg-blue-600/20 px-6 py-2 rounded-full font-medium text-sm"> Watch Project Video <i class="fas fa-external-link-alt ml-1 text-xs" aria-hidden="true"></i>
                                        </button>
                                    </a>
                                    <button class="btn btn-story" data-custom-story-id="better-late-than-never-story">✨ Tell Me More</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="card p-6 achievement group smart-city-achievement" data-project-id="smartscape">
                        <div class="flex flex-col md:flex-row items-start md:items-center">
                             <div class="icon-container bg-emerald-600/20 p-4 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0" aria-hidden="true">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-emerald-400 group-hover:text-emerald-300 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-16.5-18h13.5M5.25 3v18m13.5-18v18M9 6.75h6M9 11.25h6M9 15.75h6" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21V3h-1.5A1.75 1.75 0 002 4.75v14.5A1.75 1.75 0 003.75 21h1.5zm15 0V3h1.5a1.75 1.75 0 011.75 1.75v14.5A1.75 1.75 0 0120.25 21h-1.5z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5V3m0 18v-2.25m0-10.5a2.25 2.25 0 00-2.25-2.25H9a2.25 2.25 0 00-2.25 2.25v.75M12 12.75a2.25 2.25 0 01-2.25-2.25V9m4.5 3.75a2.25 2.25 0 002.25-2.25V9a2.25 2.25 0 00-2.25-2.25h-.75M12 12.75V21" />
                                </svg>
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-2xl font-bold mb-2 text-emerald-400 achievement-title">3rd Place - Advanced Level (2025)</h3>
                                <p class="text-gray-400 mb-2 achievement-project">Project: <strong>SmartScape</strong> (CMU-Q Alice Competition)</p>
                                <p class="text-gray-300 mb-4 achievement-desc">Our 2025 entry, "SmartScape," re-imagines urban living through Alice 3. This project showcases advanced simulations of interconnected city systems, focusing on sustainable solutions and interactive problem-solving for future city challenges. It was recognized for its ambitious scope and innovative use of Alice 3 for complex systems modeling.</p>
                                <div class="mt-3 flex flex-wrap items-center gap-3">
                                    <a href="https://drive.google.com/file/d/1_placeholder_smartscape_2025/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block cursor-none" aria-label="Watch video for SmartScape project">
                                        <button class="btn project-video-btn bg-transparent border border-emerald-600 text-emerald-400 hover:text-white hover:bg-emerald-600/20 px-6 py-2 rounded-full font-medium text-sm"> Watch Project Video <i class="fas fa-external-link-alt ml-1 text-xs" aria-hidden="true"></i>
                                        </button>
                                    </a>
                                    <button class="btn btn-story" data-custom-story-id="smartscape-story">✨ Tell Me More</button>
                                </div>
                            </div>
                        </div>
                    </article>
                     <article class="card p-6 achievement group project-2025-card"> <div class="flex flex-col md:flex-row items-start md:items-center">
                             <div class="icon-container bg-purple-600/20 p-4 rounded-full mb-4 md:mb-0 md:mr-6 flex-shrink-0" aria-hidden="true"> <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-purple-400 group-hover:text-purple-300 transition-colors duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                            </div>
                            <div class="flex-grow">
                                <h3 class="text-2xl font-bold mb-2 text-purple-400 achievement-title">Current Challenge: 2026 Competition</h3>
                                <p class="text-gray-400 mb-2 achievement-project">Project: <strong>Ctrl+Shift+Code: Genesis</strong> (CMU-Q Alice Competition 2026)</p>
                                <p class="text-gray-300 mb-4 achievement-desc">Currently developing our most ambitious project yet, aiming to innovate further with advanced Alice 3 techniques and compelling interactive storytelling. Stay tuned for "Genesis"!</p>
                                <div class="mt-3 flex flex-wrap items-center gap-3">
                                    <button class="btn btn-story" data-custom-story-id="genesis-story">✨ Sneak Peek</button>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="project" class="section"> <div class="max-w-7xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-bold mb-12 opacity-0 text-center md:text-left" id="project-title">
                    <span class="gradient-text">Our Current Project (2026)</span>
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="opacity-0" id="project-text">
                        <h3 class="text-2xl font-bold mb-4">Pushing Boundaries with Alice 3: Project Genesis</h3>
                        <p class="text-lg text-gray-300 mb-6">
                            We are deep in development for the Alice Programming Competition 2026. Our project, "Genesis," aims to create an unparalleled interactive experience that leverages the full potential of the Alice 3 platform.
                        </p>
                        <p class="text-lg text-gray-300 mb-6">
                            Building upon our previous successes, we're focusing on intricate programming, enhanced 3D visuals, and a deeply engaging narrative structure that explores themes of creation and consequence. Expect innovation and creativity!
                        </p>
                        <p class="text-lg text-gray-300">
                            Follow our journey and progress as we prepare to showcase our latest creation at CMU-Q!
                        </p>
                    </div>
                    <div class="opacity-0" id="project-image">
                        <div class="card p-6 h-full">
                            <div class="relative h-64 w-full mb-6 overflow-hidden rounded-lg" aria-label="Abstract representation of project development">
                                <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
                                    <defs>
                                        <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#a855f7;stop-opacity:0.5"></stop> <stop offset="100%" style="stop-color:#7e22ce;stop-opacity:0.5"></stop>
                                        </linearGradient>
                                    </defs>
                                    <rect width="400" height="300" fill="#1a1a1a" rx="10" ry="10"></rect>
                                    <g transform="translate(50, 50)">
                                        <rect width="300" height="200" fill="url(#grad2)" rx="5" ry="5"></rect>
                                        <path d="M0,200 L60,100 L100,150 L160,50 L220,150 L300,80 L300,200 Z" fill="#2a203a"></path> <g transform="translate(80, 140)">
                                            <rect width="10" height="20" fill="#6b21a8" x="-5" y="0"></rect>
                                            <polygon points="0,-30 15,0 -15,0" fill="#581c87"></polygon>
                                            <polygon points="0,-45 12,-15 -12,-15" fill="#581c87"></polygon>
                                        </g>
                                        <g transform="translate(200, 130)">
                                            <rect width="10" height="20" fill="#6b21a8" x="-5" y="0"></rect>
                                            <polygon points="0,-30 15,0 -15,0" fill="#581c87"></polygon>
                                            <polygon points="0,-45 12,-15 -12,-15" fill="#581c87"></polygon>
                                        </g>
                                        <g transform="translate(150, 150)">
                                            <circle cx="0" cy="-15" r="10" fill="#f0f0f0"></circle>
                                            <rect width="20" height="30" fill="#9333ea" x="-10" y="-5" rx="5" ry="5"></rect>
                                        </g>
                                        <g transform="translate(20, 20)">
                                            <rect width="80" height="20" fill="#4a3a5a" rx="3" ry="3" opacity="0.7"></rect>
                                        </g>
                                        <g transform="translate(30, 50)">
                                            <rect width="100" height="20" fill="#4a3a5a" rx="3" ry="3" opacity="0.7"></rect>
                                        </g>
                                    </g>
                                     <text x="200" y="280" text-anchor="middle" fill="#7e22ce" font-family="monospace" font-size="10">Project Genesis - In Development</text>
                                </svg>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="text-xl font-semibold">Project Status</h3>
                                    <p class="text-gray-400">In Development</p>
                                </div>
                                <a href="#project" class="bg-purple-600/20 p-2 rounded-full cursor-none block" aria-label="View project section details">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-400 animate-spin" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" style="animation-duration: 1.5s;">
                                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 py-12">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                <div class="mb-8 md:mb-0">
                    <div class="code-font text-2xl font-bold mb-4">
                        <span class="text-blue-400" aria-hidden="true">&lt;</span>
                        <span class="gradient-text">Ctrl+Shift+Code</span>
                        <span class="text-blue-400" aria-hidden="true">/&gt;</span>
                    </div>
                    <p class="text-gray-400 text-sm">Doha, Qatar</p>
                    <p class="text-gray-400 text-sm">Creating immersive experiences with Alice 3</p>
                </div>
                <div class="flex flex-col items-center md:items-end">
                    <p class="text-gray-400 text-sm mb-2">© <span id="current-year">2025</span> Ctrl+Shift+Code. All rights reserved.</p>
                    <p class="text-gray-500 text-xs mb-4">Domain from <a href="https://github.com/open-domains/register/" target="_blank" rel="noopener noreferrer" class="hover:text-gray-400 cursor-none">Open Domains</a></p>
                    <div class="flex space-x-4">
                        <a href="https://github.com/ctrl-shift-coders" target="_blank" rel="noopener noreferrer" aria-label="Ctrl+Shift+Code GitHub Profile" class="text-gray-400 hover:text-blue-400 cursor-none">
                            <i class="fab fa-github fa-lg" aria-hidden="true"></i>
                        </a>
                        <a href="mailto:jthweb@duck.com" aria-label="Send Email to Ctrl+Shift+Code" class="text-gray-400 hover:text-blue-400 cursor-none">
                            <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // --- DOM Element References ---
        const body = document.body;
        const mainContent = document.getElementById('main-content');
        const footer = document.querySelector('footer');
        const customCursor = document.getElementById('custom-cursor');
        const cursorFollower = document.getElementById('custom-cursor-follower');
        const contextMenu = document.getElementById('custom-context-menu');
        const popup = document.getElementById('link-popup');
        const popupText = document.getElementById('link-popup-text');
        const progressBar = document.querySelector('.progress-bar');
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const heroCanvas = document.getElementById('hero-canvas');
        const orientationPrompt = document.getElementById('orientation-prompt');
        const headerElement = document.querySelector('header');
        let linkToVisit = null;

        // Project Details Modal Elements (formerly Gemini Story Modal)
        const projectDetailsModal = document.getElementById('project-details-modal');
        const projectDetailsModalContent = document.getElementById('project-details-modal-content');
        const projectDetailsModalClose = document.getElementById('project-details-modal-close');

        // Alice 3 Helper Chatbot Elements
        const chatToggleBtn = document.getElementById('chat-toggle-btn');
        const aliceChatPopup = document.getElementById('alice-chat-popup');
        const chatCloseBtn = document.getElementById('chat-close-btn');
        const chatMessagesContainer = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');
        const chatHeader = document.querySelector('.chat-header'); // For draggable handle


        // --- State ---
        let isContextMenuVisible = false;

        // --- Three.js Background Setup ---
        let scene, camera, renderer, particlesMesh, clock;

        function initThreeJS() {
            if (!heroCanvas) { console.warn("Hero canvas not found, skipping Three.js init."); return; }
            try {
                renderer = new THREE.WebGLRenderer({ canvas: heroCanvas, alpha: true, antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 5;
                const particlesGeometry = new THREE.BufferGeometry();
                const particlesCount = 1000;
                const posArray = new Float32Array(particlesCount * 3);
                for (let i = 0; i < particlesCount; i++) {
                    posArray[i * 3 + 0] = (Math.random() - 0.5) * 20;
                    posArray[i * 3 + 1] = (Math.random() - 0.5) * 20;
                    posArray[i * 3 + 2] = (Math.random() - 0.5) * 20;
                }
                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                const particlesMaterial = new THREE.PointsMaterial({ size: 0.04, color: 0x00c6ff, transparent: true, opacity: 0.6, sizeAttenuation: true, blending: THREE.AdditiveBlending });
                particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particlesMesh);
                clock = new THREE.Clock();
                animateThreeJS();
            } catch (error) { console.error("Error initializing Three.js:", error); if (heroCanvas) heroCanvas.style.display = 'none'; }
        }

        function animateThreeJS() {
            if (!renderer || !scene || !camera || !particlesMesh || !clock) return;
            const elapsedTime = clock.getElapsedTime();
            particlesMesh.rotation.y = elapsedTime * 0.04;
            particlesMesh.rotation.x = elapsedTime * 0.02;
            renderer.render(scene, camera);
            requestAnimationFrame(animateThreeJS);
        }

        function handleResize() {
             if (camera && renderer) {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
             }
             checkOrientation();
        }

        function checkOrientation() { /* CSS handles display */ }

        function updateCursor(e) {
            if (!customCursor || !cursorFollower) return;
            gsap.to(customCursor, { x: e.clientX, y: e.clientY, duration: 0.2, ease: 'power2.out' });
            gsap.to(cursorFollower, { x: e.clientX, y: e.clientY, duration: 0.4, ease: 'power2.out' });
        }

        function addCursorInteraction(selector, className = 'expand') {
             document.querySelectorAll(selector).forEach(el => {
                el.addEventListener('mouseenter', () => customCursor?.classList.add(className));
                el.addEventListener('mouseleave', () => customCursor?.classList.remove(className));
            });
        }

        function showContextMenu(e) {
             if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) { return; }
            e.preventDefault();
            if (!contextMenu) return;
            const menuWidth = contextMenu.offsetWidth; const menuHeight = contextMenu.offsetHeight; const viewportWidth = window.innerWidth; const viewportHeight = window.innerHeight; let x = e.clientX; let y = e.clientY;
            if (x + menuWidth > viewportWidth) x = viewportWidth - menuWidth - 5; if (y + menuHeight > viewportHeight) y = viewportHeight - menuHeight - 5; if (x < 5) x = 5; if (y < 5) y = 5;
            contextMenu.style.left = `${x}px`; contextMenu.style.top = `${y}px`; contextMenu.style.display = 'block';
            requestAnimationFrame(() => { contextMenu.style.opacity = '1'; contextMenu.style.transform = 'scale(1)'; });
            isContextMenuVisible = true;
        }

        function hideContextMenu() {
            if (isContextMenuVisible && contextMenu) {
                 contextMenu.style.opacity = '0'; contextMenu.style.transform = 'scale(0.95)';
                 setTimeout(() => { if (contextMenu) contextMenu.style.display = 'none'; }, 200);
                isContextMenuVisible = false;
            }
        }

        function handleContextMenuClick(action) {
            hideContextMenu();
            if (action.startsWith('nav-')) {
                const sectionId = action.substring(4); const sectionElement = document.getElementById(sectionId);
                if (sectionElement) { sectionElement.scrollIntoView({ behavior: 'smooth' }); }
                return;
            }
            switch (action) {
                case 'github': showLinkPopup('https://github.com/ctrl-shift-coders'); break;
                case 'email': window.location.href = 'mailto:jthweb@duck.com'; break;
            }
        }

        function showLinkPopup(url) {
            if (!popup || !popupText) return;
            linkToVisit = url;
            const displayUrl = url.length > 60 ? url.substring(0, 57) + '...' : url;
            popupText.innerHTML = `Leave this site and visit:<br><strong>${displayUrl}</strong>?`;
            popup.style.display = 'block';
            body.classList.add('popup-active');
            requestAnimationFrame(() => {
                popup.style.opacity = '1';
                popup.style.transform = 'translate(-50%, -50%) scale(1)';
            });
        }

        function proceedToLink(shouldProceed) {
            if (!popup) return;
            popup.style.opacity = '0';
            popup.style.transform = 'translate(-50%, -50%) scale(0.9)';
            body.classList.remove('popup-active');

            setTimeout(() => {
                if (popup) popup.style.display = 'none';
                if (shouldProceed && linkToVisit) {
                    window.open(linkToVisit, '_blank', 'noopener noreferrer');
                }
                linkToVisit = null;
            }, 300);
        }

        function setupLinkConfirmation() {
             document.querySelectorAll('a[href^="http"]:not([href*="' + window.location.hostname + '"]), a[target="_blank"]').forEach(link => {
                 const href = link.getAttribute('href');
                 if (href && !href.startsWith('#') && !href.startsWith('mailto:') && !link.closest('#custom-context-menu') && !link.closest('.achievement')) {
                     link.addEventListener('click', (e) => {
                         e.preventDefault();
                         showLinkPopup(href);
                     });
                 }
            });
            document.querySelectorAll('.achievement a[href^="http"]').forEach(link => {
                const href = link.getAttribute('href');
                if(href) {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        showLinkPopup(href);
                    });
                }
            });
        }

        function toggleMobileMenu() {
            if (mobileMenu && menuToggle) {
                const isExpanded = mobileMenu.classList.toggle('hidden');
                menuToggle.setAttribute('aria-expanded', !isExpanded);
                if (!isExpanded) { // Menu is open
                    gsap.fromTo(mobileMenu.querySelectorAll('li'),
                        { opacity: 0, x: -20 },
                        { opacity: 1, x: 0, duration: 0.3, stagger: 0.05, ease: 'power2.out' }
                    );
                }
            }
        }

        function updateProgressBar() {
            if (!progressBar) return;
            const totalScroll = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPosition = window.scrollY;
            const scrolled = totalScroll > 0 ? (scrollPosition / totalScroll) * 100 : 0;
            progressBar.style.width = `${scrolled}%`;
        }

        function setupScrollAnimations() {
            if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') { document.querySelectorAll('.opacity-0').forEach(el => el.style.opacity = '1'); return; }
            gsap.registerPlugin(ScrollTrigger);
            const fadeIn = (selector, trigger, start = 'top 85%', delay = 0, stagger = 0.1, y = 30, x = 0) => { // Default stagger 0.1
                 gsap.set(selector, { opacity: 0, y: y, x: x });
                 gsap.to(selector, { opacity: 1, y: 0, x: 0, duration: 0.8, delay: delay, stagger: stagger, ease: 'power3.out', scrollTrigger: { trigger: trigger, start: start, toggleActions: 'play none none none' } });
            };
            gsap.to('#main-title', { opacity: 1, y: 0, duration: 1, delay: 0.3, ease: 'power3.out' });
            // Adjusted delays after removing Typed.js
            gsap.to('#main-buttons', { opacity: 1, y: 0, duration: 1, delay: 0.8, ease: 'power3.out' });
            gsap.to('#code-snippet', { opacity: 1, y: 0, duration: 1, delay: 1.1, ease: 'power3.out' });
            // Scroll down arrow is now animated with Tailwind's animate-bounce directly, no GSAP needed here.

            fadeIn('#about-title', '#about'); fadeIn('#about-text', '#about', 'top 75%', 0.1); fadeIn('#about-image', '#about', 'top 75%', 0.2);
            fadeIn('#team-title', '#team'); fadeIn('.team-member', '#team', 'top 80%', 0, 0.15);
            fadeIn('#achievements-title', '#achievements'); fadeIn('.achievement', '#achievements', 'top 85%', 0, 0.2, 0, 20);

            // Project Section Animations (uncommented)
            fadeIn('#project-title', '#project', 'top 80%');
            fadeIn('#project-text', '#project', 'top 75%', 0.1);
            fadeIn('#project-image', '#project', 'top 75%', 0.2);
        }

        // --- Project Story Modal Logic (Custom Content Only) ---
        const customStories = {
            "tomorrows-too-late-story": {
                title: "Tomorrow's Too Late - Our 2023 Journey",
                content: `
                    <p><strong>Tomorrow's Too Late</strong> was our impactful entry for the 2023 CMU-Q Alice Competition, where we secured 2nd place in the Advanced Level. This project was a deep dive into the critical issue of climate change, brought to life through an interactive Alice 3 simulation.</p>
                    <p>We focused on creating a compelling narrative that immersed players in the consequences of environmental neglect. Through careful programming and detailed 3D animation, we illustrated scenarios that highlighted the urgency of climate action. The project aimed not just to entertain, but to educate and inspire change.</p>
                    <p>Developing "Tomorrow's Too Late" pushed our skills in complex event handling and visual storytelling within Alice 3. It was a challenging yet incredibly rewarding experience that solidified our team's commitment to using technology for social good.</p>
                `
            },
            "better-late-than-never-story": {
                title: "Better Late Than Never - The 2024 Narrative",
                content: `
                    <p>For the 2024 CMU-Q Alice Competition, we presented <strong>Better Late Than Never</strong>, earning 3rd place in the Advanced Level. This project evolved our approach to interactive storytelling, placing a strong emphasis on player choice and its direct impact on the game world.</p>
                    <p>The core of "Better Late Than Never" was a branching narrative where players had to make critical decisions to save a village from an impending environmental disaster. We implemented intricate logic to ensure that each choice led to distinct consequences, offering a highly personalized and replayable experience.</p>
                    <p>This project was a testament to our growth in crafting complex interactive systems and designing engaging user experiences within Alice 3. It reinforced our belief in the power of interactive media to convey important messages and encourage critical thinking.</p>
                `
            },
            "smartscape-story": {
                title: "SmartScape - The Inside Story ✨",
                content: `
                    <p><strong>SmartScape</strong> represents our most ambitious vision for the future, brought to life with Alice 3 for the 2025 competition. We didn't just want to build a project; we wanted to craft an experience.</p>
                    <p>Imagine a city that breathes, learns, and adapts. That was our goal. We dived deep into simulating complex urban dynamics – from AI-powered traffic flow that unsnarls itself, to renewable energy grids that respond to real-time demand, and green spaces that actively combat pollution within the simulation.</p>
                    <p>The journey was challenging, pushing the boundaries of what we thought was possible in Alice 3. Countless hours were spent coding intricate logic, designing a user interface that felt intuitive yet powerful, and ensuring every element contributed to a cohesive, believable smart city ecosystem.</p>
                    <p>More than just a technical showcase, SmartScape is our statement on how technology can be harnessed for a sustainable and intelligent urban future. We're incredibly proud of how it turned out and the conversations it sparked!</p>
                `
            },
            "genesis-story": { // Custom story for the "Current Challenge" card
                title: "Project Genesis - A Glimpse ✨",
                content: `
                    <p><strong>Project Genesis</strong> is where our passion for Alice 3 meets our boldest ideas yet for the 2026 CMU-Q competition! We're exploring new frontiers in interactive narrative and complex simulations.</p>
                    <p>Think intricate world-building, dynamic character interactions driven by player choices, and an underlying system that makes the game world feel truly alive. We're experimenting with advanced procedural generation techniques within Alice 3 to create vast, explorable environments and emergent gameplay scenarios.</p>
                    <p>Our focus is on pushing the storytelling capabilities of Alice 3, crafting a narrative that is not only engaging but also deeply personal to each player. It's a massive undertaking, but the excitement of bringing "Genesis" to life fuels our late-night coding sessions. Stay tuned for more updates as we sculpt this new reality!</p>
                `
            }
        };

        function showStoryInModal(title, content) {
            if (!projectDetailsModal || !projectDetailsModalContent) return;
            projectDetailsModalContent.innerHTML = `<h4>${title}</h4>${content}`;
            projectDetailsModal.style.display = 'block';
            body.classList.add('popup-active');
            requestAnimationFrame(() => {
                projectDetailsModal.style.opacity = '1';
                projectDetailsModal.style.transform = 'translate(-50%, -50%) scale(1)';
            });
        }


        function closeProjectDetailsModal() {
            if (!projectDetailsModal) return;
            projectDetailsModal.style.opacity = '0';
            projectDetailsModal.style.transform = 'translate(-50%, -50%) scale(0.9)';
            body.classList.remove('popup-active');
            setTimeout(() => {
                if (projectDetailsModal) projectDetailsModal.style.display = 'none';
                if (projectDetailsModalContent) projectDetailsModalContent.innerHTML = '';
            }, 300);
        }

        // --- Alice 3 Helper Chatbot Logic (No AI API) ---

        // Define a comprehensive list of Q&A pairs and potential suggestions
        const chatResponses = [
            {
                keywords: ["/csc_info", "about ctrl+shift+code", "who are you"],
                response: `Ctrl+Shift+Code is an award-winning student team (Jonathan, Nishad, Avrin) from Doha, Qatar, specializing in Alice 3 programming and 3D animation. They compete in CMU-Q competitions, focusing on innovative educational simulations and interactive narratives. Check out their achievements on this site!`,
                suggestions: ["What is Alice 3?", "Tell me about your team members.", "What competitions do you join?"]
            },
            {
                keywords: ["alice 3", "alice programming", "what is alice"],
                response: "I specialize in Alice 3! Alice 3 is a 3D animation and programming environment designed to teach object-oriented programming concepts. You can drag-and-drop code blocks to create interactive stories, games, and videos. What specifically about Alice 3 would you like to know?",
                suggestions: ["How does Alice 3 work?", "What can I create with Alice 3?", "Is Alice 3 good for beginners?"]
            },
            {
                keywords: ["how does alice 3 work", "alice 3 mechanics"],
                response: "Alice 3 uses a drag-and-drop interface where you arrange blocks of code to create sequences of actions. It's built on Java, and you can even see the underlying Java code for your Alice projects. This makes it a great bridge to more advanced programming!",
                suggestions: ["What is object-oriented programming?", "Can I export Alice 3 projects?", "What are some Alice 3 features?"]
            },
            {
                keywords: ["what can i create with alice 3", "alice 3 projects"],
                response: "With Alice 3, you can create a wide range of interactive content: 3D animations, educational simulations, simple games, and interactive stories. Our team has built award-winning projects like 'Tomorrow's Too Late' and 'SmartScape' using Alice 3!",
                suggestions: ["Tell me about Tomorrow's Too Late.", "What is SmartScape?", "How do you make games in Alice 3?"]
            },
            {
                keywords: ["is alice 3 good for beginners", "learning alice 3"],
                response: "Absolutely! Alice 3 is specifically designed for beginners. Its visual drag-and-drop interface makes it easy to understand programming concepts without worrying about syntax errors. It's a fantastic tool for learning the fundamentals of coding and 3D animation.",
                suggestions: ["Where can I download Alice 3?", "Are there tutorials for Alice 3?", "What are the benefits of Alice 3?"]
            },
            {
                keywords: ["team", "ctrl+shift+code members", "who is in the team"],
                response: "Our team, Ctrl+Shift+Code, consists of Jonathan Oommen Easow, Nishad Koshti, and Avrin Sidney. We are Grade 10 students from Doha, Qatar, passionate about Alice 3 programming and 3D animation!",
                suggestions: ["Tell me about Jonathan.", "Tell me about Nishad.", "Tell me about Avrin."]
            },
            {
                keywords: ["jonathan", "jonathan oommen easow"],
                response: "Jonathan Oommen Easow is our Team Lead and 3D Designer/Coder. He specializes in creating immersive 3D environments and character animations in Alice 3.",
                suggestions: ["What does Nishad do?", "What does Avrin do?", "What are Jonathan's skills?"]
            },
            {
                keywords: ["nishad", "nishad koshti"],
                response: "Nishad Koshti is our Technical Developer. He's an expert in Alice 3 programming logic and implementing interactive storytelling techniques.",
                suggestions: ["What does Jonathan do?", "What does Avrin do?", "What are Nishad's skills?"]
            },
            {
                keywords: ["avrin", "avrin sidney"],
                response: "Avrin Sidney is our Creative Director. She focuses on compelling storytelling, intuitive user experience, and visual aesthetics in all our projects.",
                suggestions: ["What does Jonathan do?", "What does Nishad do?", "What are Avrin's skills?"]
            },
            {
                keywords: ["competition", "cmu-q", "alice competition"],
                response: "We regularly participate in the CMU-Q Alice Programming Competition, where we've won multiple awards for our innovative projects. It's a great platform to showcase our skills!",
                suggestions: ["What awards have you won?", "Tell me about SmartScape.", "What is your next project?"]
            },
            {
                keywords: ["awards", "achievements", "won"],
                response: "We've achieved 2nd place in the Advanced Level (2023) with 'Tomorrow's Too Late', 3rd place in the Advanced Level (2024) with 'Better Late Than Never', and 3rd place in the Advanced Level (2025) with 'SmartScape' at the CMU-Q Alice Competition.",
                suggestions: ["Tell me about Tomorrow's Too Late.", "Tell me about SmartScape.", "What is your current project?"]
            },
            {
                keywords: ["tomorrow's too late", "2023 project"],
                response: "Our 2023 project, 'Tomorrow's Too Late', was a climate change simulation that earned us 2nd place at the CMU-Q Alice Competition. It focused on urgent environmental issues through interactive storytelling.",
                suggestions: ["Tell me about Better Late Than Never.", "Tell me about SmartScape.", "What is your current project?"]
            },
            {
                keywords: ["better late than never", "2024 project"],
                response: "In 2024, our project 'Better Late Than Never' secured 3rd place. It was an interactive climate change narrative emphasizing player choice and consequence to save a village.",
                suggestions: ["Tell me about Tomorrow's Too Late.", "Tell me about SmartScape.", "What is your current project?"]
            },
            {
                keywords: ["smartscape", "2025 project"],
                response: "SmartScape is our 2025 project, which won 3rd place. It's an innovative Alice 3 simulation re-imagining urban living with interconnected city systems and sustainable solutions.",
                suggestions: ["Tell me about Project Genesis.", "What are the features of SmartScape?", "What inspired SmartScape?"]
            },
            {
                keywords: ["project genesis", "2026 project", "current project"],
                response: "Project Genesis is our most ambitious project for the 2026 CMU-Q competition. We're developing an unparalleled interactive experience with intricate programming, enhanced 3D visuals, and a deeply engaging narrative.",
                suggestions: ["What themes does Genesis explore?", "When will Genesis be ready?", "How is Genesis different from previous projects?"]
            },
            {
                keywords: ["what themes does genesis explore"],
                response: "Project Genesis explores themes of creation, consequence, and the impact of choices in a dynamically evolving world. We aim for a narrative that feels deeply personal to each player.",
                suggestions: ["What is procedural generation?", "What is Alice 3?", "Tell me about your team."]
            },
            {
                keywords: ["contact", "email"],
                response: "You can reach us at jthweb@duck.com. We'd love to hear from you!",
                suggestions: ["Visit your GitHub.", "Who are the team members?"]
            },
            {
                keywords: ["github", "source code"],
                response: "You can find our projects and more on our GitHub profile: https://github.com/ctrl-shift-coders. We encourage you to explore our code!",
                suggestions: ["What is Alice 3?", "Tell me about your projects."]
            },
            {
                keywords: ["hello", "hi", "hey"],
                response: "Hello there! How can I assist you with Alice 3 or our team's work today?",
                suggestions: ["What is Alice 3?", "Tell me about your team.", "/csc_info"]
            },
            {
                keywords: ["thank you", "thanks", "appreciate it"],
                response: "You're most welcome! Is there anything else I can help you with?",
                suggestions: ["What is Alice 3?", "Tell me about your projects."]
            },
            {
                keywords: ["bye", "goodbye"],
                response: "Goodbye! Feel free to come back anytime if you have more questions.",
                suggestions: ["What is Alice 3?", "Tell me about your team."]
            }
        ];

        // Function to find suggestions based on user input
        function findSuggestions(userInput) {
            const lowerCaseInput = userInput.toLowerCase();
            const relevantSuggestions = new Set(); // Use a Set to avoid duplicate suggestions

            // First, try to find direct matches and get their suggestions
            for (const qa of chatResponses) {
                for (const keyword of qa.keywords) {
                    if (lowerCaseInput.includes(keyword)) {
                        qa.suggestions.forEach(s => relevantSuggestions.add(s));
                        // If a direct match is found, we might want to prioritize its suggestions
                        // and then look for broader ones if needed.
                    }
                }
            }

            // If no direct matches, or to broaden suggestions, look for partial matches
            // This is a simple substring match; for more advanced fuzzy matching, a library would be needed.
            if (relevantSuggestions.size < 3) { // Try to get at least 3 suggestions
                for (const qa of chatResponses) {
                    for (const keyword of qa.keywords) {
                        if (keyword.includes(lowerCaseInput) && !lowerCaseInput.includes(keyword)) { // Suggest if user input is part of a keyword, but not the full keyword
                            qa.suggestions.forEach(s => relevantSuggestions.add(s));
                        }
                    }
                }
            }

            // Ensure we don't suggest the user's exact input or already answered topics
            const filteredSuggestions = Array.from(relevantSuggestions).filter(s => !lowerCaseInput.includes(s.toLowerCase()));

            // Limit to a reasonable number of suggestions
            return filteredSuggestions.slice(0, 3);
        }


        function addMessageToChat(message, sender, isError = false, suggestions = []) {
            if (!chatMessagesContainer) return;
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('chat-message', sender);
            if (isError) messageDiv.classList.add('error');

            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = message; // Use innerHTML to allow for <br> and other tags
            messageDiv.appendChild(tempDiv);

            if (suggestions.length > 0 && sender === "bot") {
                const suggestionsDiv = document.createElement('div');
                suggestionsDiv.classList.add('chat-suggestions');
                suggestions.forEach(sugg => {
                    const suggBtn = document.createElement('button');
                    suggBtn.classList.add('suggestion-button');
                    suggBtn.textContent = sugg;
                    suggBtn.addEventListener('click', () => {
                        chatInput.value = sugg;
                        handleChatSend();
                    });
                    suggestionsDiv.appendChild(suggBtn);
                });
                messageDiv.appendChild(suggestionsDiv);
            }

            chatMessagesContainer.appendChild(messageDiv);
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
        }

        function handleChatSend() {
            if (!chatInput || !chatInput.value.trim()) return;
            const userInput = chatInput.value.trim();
            addMessageToChat(userInput, "user");
            chatInput.value = "";

            // Add thinking message
            const loadingMessageDiv = document.createElement('div');
            loadingMessageDiv.classList.add('chat-message', 'bot', 'loading');
            loadingMessageDiv.textContent = "Alice Helper is thinking...";
            chatMessagesContainer.appendChild(loadingMessageDiv);
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;

            const lowerCaseInput = userInput.toLowerCase();

            setTimeout(() => {
                // Remove thinking message
                if (loadingMessageDiv && loadingMessageDiv.parentNode) {
                    loadingMessageDiv.parentNode.removeChild(loadingMessageDiv);
                }

                let botResponse = "I'm sorry, I don't quite understand that. I'm the Alice 3 Helper, so I can best assist with questions related to Alice 3 programming or our team's work. Please try asking something related to those topics!";
                let currentSuggestions = [];

                let foundMatch = false;
                for (const qa of chatResponses) {
                    for (const keyword of qa.keywords) {
                        if (lowerCaseInput.includes(keyword)) {
                            botResponse = qa.response;
                            currentSuggestions = qa.suggestions;
                            foundMatch = true;
                            break;
                        }
                    }
                    if (foundMatch) break;
                }

                if (!foundMatch) {
                    // If no direct match, try to find general suggestions
                    currentSuggestions = findSuggestions(userInput);
                    if (currentSuggestions.length === 0) {
                        // Fallback suggestions if no specific ones are found
                        currentSuggestions = ["What is Alice 3?", "Tell me about your team.", "/csc_info"];
                    }
                }

                addMessageToChat(botResponse, "bot", false, currentSuggestions);
            }, 1500); // Simulate thinking time
        }

        // --- Drag Functionality ---
        function makeDraggable(elmnt, handle, storageKey) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

            // Load stored position on initialization
            const storedPosition = localStorage.getItem(storageKey);
            if (storedPosition) {
                const { x, y } = JSON.parse(storedPosition);
                elmnt.style.position = 'fixed'; // Ensure fixed positioning for drag
                elmnt.style.left = `${x}px`;
                elmnt.style.top = `${y}px`;
                elmnt.style.right = 'auto'; // Clear default right/bottom if set by CSS
                elmnt.style.bottom = 'auto';
            } else {
                // If no stored position, ensure it's positioned for drag later
                // For elements initially positioned with right/bottom, we need to convert to top/left
                // once they are visible and have dimensions. This is handled on first drag.
            }

            handle.onmousedown = dragMouseDown;
            handle.ontouchstart = dragTouchStart; // Add touch support

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                // Get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;

                // If element was positioned with right/bottom, convert to left/top for dragging
                if (elmnt.style.right || elmnt.style.bottom) {
                    const rect = elmnt.getBoundingClientRect();
                    elmnt.style.left = `${rect.left}px`;
                    elmnt.style.top = `${rect.top}px`;
                    elmnt.style.right = 'auto';
                    elmnt.style.bottom = 'auto';
                }

                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            }

            function dragTouchStart(e) {
                e = e || window.event;
                e.preventDefault(); // Prevent scrolling when dragging
                const touch = e.touches[0];
                pos3 = touch.clientX;
                pos4 = touch.clientY;

                if (elmnt.style.right || elmnt.style.bottom) {
                    const rect = elmnt.getBoundingClientRect();
                    elmnt.style.left = `${rect.left}px`;
                    elmnt.style.top = `${rect.top}px`;
                    elmnt.style.right = 'auto';
                    elmnt.style.bottom = 'auto';
                }

                document.ontouchend = closeDragElement;
                document.ontouchmove = elementTouchDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                // Calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                // Set the element's new position:
                let newTop = elmnt.offsetTop - pos2;
                let newLeft = elmnt.offsetLeft - pos1;

                // Boundary checks
                const minX = 0;
                const minY = 0;
                const maxX = window.innerWidth - elmnt.offsetWidth;
                const maxY = window.innerHeight - elmnt.offsetHeight;

                newLeft = Math.max(minX, Math.min(newLeft, maxX));
                newTop = Math.max(minY, Math.min(newTop, maxY));

                elmnt.style.top = newTop + "px";
                elmnt.style.left = newLeft + "px";

                // Store position
                localStorage.setItem(storageKey, JSON.stringify({ x: newLeft, y: newTop }));
            }

            function elementTouchDrag(e) {
                e = e || window.event;
                const touch = e.touches[0];
                // Calculate the new cursor position:
                pos1 = pos3 - touch.clientX;
                pos2 = pos4 - touch.clientY;
                pos3 = touch.clientX;
                pos4 = touch.clientY;
                // Set the element's new position:
                let newTop = elmnt.offsetTop - pos2;
                let newLeft = elmnt.offsetLeft - pos1;

                // Boundary checks
                const minX = 0;
                const minY = 0;
                const maxX = window.innerWidth - elmnt.offsetWidth;
                const maxY = window.innerHeight - elmnt.offsetHeight;

                newLeft = Math.max(minX, Math.min(newLeft, maxX));
                newTop = Math.max(minY, Math.min(newTop, maxY));

                elmnt.style.top = newTop + "px";
                elmnt.style.left = newLeft + "px";

                // Store position
                localStorage.setItem(storageKey, JSON.stringify({ x: newLeft, y: newTop }));
            }


            function closeDragElement() {
                // Stop moving when mouse button is released:
                document.onmouseup = null;
                document.onmousemove = null;
                document.ontouchend = null;
                document.ontouchmove = null;
            }
        }


        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            initThreeJS();
            setupScrollAnimations();
            setupLinkConfirmation();

            // Removed Typed.js initialization
            const subtitleEl = document.getElementById('main-subtitle');
            if (subtitleEl) {
                subtitleEl.textContent = 'Award-Winning Alice 3 Animation & Programming Team'; // Static text
                subtitleEl.style.opacity = '1'; // Make it visible if not animated
            }


            document.addEventListener('mousemove', updateCursor);
            addCursorInteraction('a, button, input, textarea, [onclick], .menu-item, .btn-story, #chat-toggle-btn, #chat-close-btn, #chat-send-btn, .chat-header, .suggestion-button', 'expand');

            document.addEventListener('contextmenu', showContextMenu);
            document.addEventListener('click', (e) => { if (contextMenu && !contextMenu.contains(e.target)) { hideContextMenu(); } });
            if (contextMenu) { contextMenu.addEventListener('contextmenu', (e) => e.stopPropagation()); }

            menuToggle?.addEventListener('click', toggleMobileMenu);
            mobileMenu?.querySelectorAll('a').forEach(link => { link.addEventListener('click', toggleMobileMenu); });

            window.addEventListener('scroll', () => {
                updateProgressBar();
                // Removed header scroll effect to keep it transparent
                /*
                if (headerElement) {
                    if (window.scrollY > 50) {
                        headerElement.classList.add('scrolled');
                    } else {
                        headerElement.classList.remove('scrolled');
                    }
                }
                */
            });

            window.addEventListener('resize', handleResize);
            updateProgressBar();
            handleResize();
            // Removed header scroll effect to keep it transparent
            // if (headerElement && window.scrollY > 50) headerElement.classList.add('scrolled');
            document.getElementById('current-year').textContent = new Date().getFullYear();


            // Story Modal Button Listeners (now only uses custom stories)
            document.querySelectorAll('.btn-story').forEach(button => {
                button.addEventListener('click', (e) => {
                    const achievementCard = e.target.closest('.achievement');
                    if (achievementCard) {
                        const customStoryId = e.target.dataset.customStoryId;

                        if (customStoryId && customStories[customStoryId]) {
                            showStoryInModal(customStories[customStoryId].title, customStories[customStoryId].content);
                        } else {
                             // Fallback if customStoryId is missing or invalid
                            const titleElement = achievementCard.querySelector('.achievement-title');
                            let projectText = "";
                            const projectElement = achievementCard.querySelector('.achievement-project strong');
                            if (projectElement) {
                                 projectText = projectElement.textContent.trim();
                            } else {
                                const projectPara = achievementCard.querySelector('.achievement-project');
                                if(projectPara) projectText = projectPara.textContent.replace('Project:', '').trim().split('(')[0].trim();
                            }
                            showStoryInModal(projectText || "Project Details", "<p>More details about this exciting project are coming soon!</p>");
                        }
                    }
                });
            });

            projectDetailsModalClose?.addEventListener('click', closeProjectDetailsModal);
            projectDetailsModal?.addEventListener('click', (e) => {
                if (e.target === projectDetailsModal) {
                    closeProjectDetailsModal();
                }
            });

            // Chatbot Listeners
            // Moved toggleChatbot function outside DOMContentLoaded for global access
            // and assigned directly to elements for robustness.
            chatToggleBtn?.addEventListener('click', toggleChatbot);
            chatCloseBtn?.addEventListener('click', toggleChatbot);
            chatSendBtn?.addEventListener('click', handleChatSend);
            chatInput?.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleChatSend();
                }
            });

            // Make chatbot elements draggable
            if (chatToggleBtn) {
                makeDraggable(chatToggleBtn, chatToggleBtn, 'chatToggleButtonPosition');
            }
            if (aliceChatPopup && chatHeader) {
                makeDraggable(aliceChatPopup, chatHeader, 'aliceChatPopupPosition');
            }

        });

        window.addEventListener('load', () => {
             // Assets loaded
        });

        // Moved toggleChatbot function outside DOMContentLoaded for global access
        function toggleChatbot() {
            if (!aliceChatPopup || !chatToggleBtn) return;
            const isVisible = aliceChatPopup.classList.toggle('visible');
            aliceChatPopup.classList.toggle('hidden', !isVisible);
            chatToggleBtn.setAttribute('aria-expanded', isVisible);
            if (isVisible) {
                chatInput.focus();
                // Initial welcome message if chat is empty
                if (chatMessagesContainer.children.length === 0) {
                    addMessageToChat("Hello! I'm the Ctrl+Shift+Code Alice 3 Helper. Ask me anything about Alice 3 programming, or try typing `/csc_info`!", "bot");
                }
                // Ensure popup is positioned correctly when it becomes visible
                const storedPopupPosition = localStorage.getItem('aliceChatPopupPosition');
                if (!storedPopupPosition) { // Only apply default if no custom position saved
                    // Calculate default bottom-right position dynamically
                    const defaultRight = 25; // As per CSS
                    const defaultBottom = 100; // As per CSS
                    aliceChatPopup.style.right = `${defaultRight}px`;
                    aliceChatPopup.style.bottom = `${defaultBottom}px`;
                    aliceChatPopup.style.left = 'auto'; // Clear left if set by draggable
                    aliceChatPopup.style.top = 'auto'; // Clear top if set by draggable
                }
            }
        }

    </script>

</body>
</html>
